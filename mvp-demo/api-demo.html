<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dataforsyningen vs DAWA vs VejSkilt - API Sammenligning</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      color: white;
      text-align: center;
      margin-bottom: 30px;
      font-size: 32px;
    }
    .api-section {
      background: white;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }
    h2 {
      font-size: 22px;
      margin-bottom: 16px;
      color: #667eea;
    }
    .info-box {
      background: #f0f9ff;
      border-left: 4px solid #3b82f6;
      padding: 16px;
      margin: 16px 0;
      border-radius: 6px;
    }
    .success-box {
      background: #f0fdf4;
      border-left: 4px solid #10b981;
      padding: 16px;
      margin: 16px 0;
      border-radius: 6px;
    }
    .error-box {
      background: #fef2f2;
      border-left: 4px solid #ef4444;
      padding: 16px;
      margin: 16px 0;
      border-radius: 6px;
    }
    pre {
      background: #1e293b;
      color: #e2e8f0;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 13px;
      line-height: 1.6;
    }
    .btn {
      padding: 12px 24px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      margin: 8px 8px 8px 0;
    }
    .btn:hover {
      background: #5568d3;
    }
    .result {
      margin-top: 16px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }
    th {
      background: #f9fafb;
      font-weight: 600;
    }
    img {
      max-width: 100%;
      border-radius: 8px;
      border: 2px solid #e5e7eb;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üó∫Ô∏è Dataforsyningen vs DAWA vs VejSkilt API</h1>

    <!-- DATAFORSYNINGEN TILES -->
    <div class="api-section">
      <h2>1Ô∏è‚É£ Dataforsyningen - Kort Tiles (PNG Billeder)</h2>

      <div class="info-box">
        <strong>Hvad Det Er:</strong> Kort-billeder (tiles) til baggrund p√• dit kort<br>
        <strong>Response Type:</strong> PNG billede (256x256 pixels)<br>
        <strong>Bruges Til:</strong> Vise veje, bygninger, matrikler som baggrund
      </div>

      <button class="btn" onclick="showDataforsyningenTile()">Se Eksempel Tile</button>

      <div class="result" id="dataforsyningen-result"></div>

      <h3 style="margin-top: 24px; margin-bottom: 12px;">Eksempel Request:</h3>
      <pre>GET https://api.dataforsyningen.dk/topo_skaermkort_daempet/13/4408/2720.png?token=f39755a4ac7c0723e2bafe2fffcf1617

Parametre:
  - 13: Zoom niveau (7-20)
  - 4408: X koordinat (tile column)
  - 2720: Y koordinat (tile row)
  - token: Din API n√∏gle</pre>

      <h3 style="margin-top: 24px; margin-bottom: 12px;">Response:</h3>
      <pre>HTTP/1.1 200 OK
Content-Type: image/png
Content-Length: 35847

[BINARY PNG IMAGE DATA - 256x256 pixels]</pre>

      <div class="error-box">
        <strong>‚ö†Ô∏è VIGTIG:</strong> Dette er KUN et billede! Ingen data om vejskilte, adresser eller features!
      </div>
    </div>

    <!-- DAWA API -->
    <div class="api-section">
      <h2>2Ô∏è‚É£ DAWA - Danmarks Adressers Web API (JSON Data)</h2>

      <div class="info-box">
        <strong>Hvad Det Er:</strong> Adresse-data, GPS koordinater, postnumre<br>
        <strong>Response Type:</strong> JSON (data du kan query)<br>
        <strong>Bruges Til:</strong> Finde adresser, konvertere GPS til adresse, s√∏ge vejnavne
      </div>

      <button class="btn" onclick="searchDAWA()">S√∏g "√Öboulevarden 20, Aarhus"</button>

      <div class="result" id="dawa-result"></div>

      <h3 style="margin-top: 24px; margin-bottom: 12px;">Eksempel Request:</h3>
      <pre>GET https://api.dataforsyningen.dk/adresser?q=√Öboulevarden%2020,%20Aarhus</pre>

      <h3 style="margin-top: 24px; margin-bottom: 12px;">Response (JSON):</h3>
      <pre id="dawa-response">Klik "S√∏g" for at se response...</pre>

      <div class="success-box">
        <strong>‚úÖ Dette ER Data!</strong> Du f√•r JSON med adresser, koordinater, postnumre osv.
      </div>
    </div>

    <!-- VEJSKILT API (SUPABASE) -->
    <div class="api-section">
      <h2>3Ô∏è‚É£ VejSkilt Platform - Supabase API (JERES Data)</h2>

      <div class="info-box">
        <strong>Hvad Det Er:</strong> JERES vejskilt-data i Supabase database<br>
        <strong>Response Type:</strong> JSON med skilte, ans√∏gninger, QR koder<br>
        <strong>Bruges Til:</strong> Gemme og hente ALLE vejskilte i systemet
      </div>

      <button class="btn" onclick="showVejSkiltData()">Se Eksempel VejSkilt Data</button>

      <div class="result" id="vejskilt-result"></div>

      <h3 style="margin-top: 24px; margin-bottom: 12px;">Eksempel Request (Supabase):</h3>
      <pre>const { data: signs } = await supabase
  .from('signs')
  .select('*')
  .eq('latitude', 56.158)
  .eq('longitude', 10.2115)</pre>

      <h3 style="margin-top: 24px; margin-bottom: 12px;">Response (JSON):</h3>
      <pre id="vejskilt-response">[
  {
    "id": "sign_004",
    "type": "Vejarbejde",
    "latitude": 56.1572,
    "longitude": 10.2107,
    "status": "mounted",
    "qr_code": "VS-2025-AAR001",
    "application_id": "app_test_003",
    "created_at": "2025-11-13T10:00:00Z"
  }
]</pre>

      <div class="success-box">
        <strong>‚úÖ DETTE er jeres skilte-data!</strong> Fuld READ + WRITE adgang!
      </div>
    </div>

    <!-- SAMMENLIGNING -->
    <div class="api-section">
      <h2>üìä Sammenligning</h2>

      <table>
        <thead>
          <tr>
            <th>API</th>
            <th>Response Type</th>
            <th>Indhold</th>
            <th>Vejskilte Data?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Dataforsyningen Tiles</strong></td>
            <td>PNG Billede</td>
            <td>Kort-baggrund (veje, bygninger)</td>
            <td>‚ùå NEJ</td>
          </tr>
          <tr>
            <td><strong>DAWA</strong></td>
            <td>JSON Data</td>
            <td>Adresser, GPS, postnumre</td>
            <td>‚ùå NEJ</td>
          </tr>
          <tr>
            <td><strong>VejSkilt (Supabase)</strong></td>
            <td>JSON Data</td>
            <td>Skilte, QR koder, ans√∏gninger</td>
            <td>‚úÖ JA!</td>
          </tr>
        </tbody>
      </table>

      <div class="error-box">
        <strong>üö´ Konklusion:</strong> Du kan IKKE "hente alle skilte fra GIS"!
        <br><br>
        GIS (Dataforsyningen) leverer KUN kort-billeder til baggrund.
        <br>
        ALLE vejskilte-data skal gemmes i JERES Supabase database!
      </div>
    </div>

  </div>

  <script>
    function showDataforsyningenTile() {
      const token = 'f39755a4ac7c0723e2bafe2fffcf1617'
      const tileUrl = `https://api.dataforsyningen.dk/topo_skaermkort_daempet/13/4408/2720.png?token=${token}`

      document.getElementById('dataforsyningen-result').innerHTML = `
        <h3>Eksempel Tile (K√∏benhavn Centrum):</h3>
        <img src="${tileUrl}" alt="Dataforsyningen Tile" style="max-width: 512px;">
        <p style="margin-top: 16px; font-size: 14px; color: #6b7280;">
          <strong>URL:</strong> ${tileUrl}
        </p>
        <p style="margin-top: 8px; font-size: 14px; color: #6b7280;">
          <strong>Response:</strong> PNG billede 256x256 pixels (~35 KB)
        </p>
        <div class="error-box" style="margin-top: 16px;">
          <strong>Ingen vejskilte-data i dette billede!</strong> Det er kun et statisk kort-billede.
        </div>
      `
    }

    async function searchDAWA() {
      const resultDiv = document.getElementById('dawa-result')
      resultDiv.innerHTML = '<p>S√∏ger...</p>'

      try {
        const response = await fetch('https://api.dataforsyningen.dk/adresser?q=√Öboulevarden 20, Aarhus')
        const data = await response.json()

        if (data.length > 0) {
          const adresse = data[0]

          document.getElementById('dawa-response').textContent = JSON.stringify(data, null, 2)

          resultDiv.innerHTML = `
            <h3>Fundet Adresse:</h3>
            <div class="success-box">
              <strong>Adresse:</strong> ${adresse.adressebetegnelse}<br>
              <strong>GPS:</strong> ${adresse.y}, ${adresse.x}<br>
              <strong>Postnummer:</strong> ${adresse.postnummer} ${adresse.postnummernavn}<br>
              <strong>Kommune:</strong> ${adresse.kommunenavn}
            </div>
            <p style="margin-top: 16px; font-size: 14px; color: #6b7280;">
              Se fuld JSON response ovenfor ‚Üë
            </p>
          `
        } else {
          resultDiv.innerHTML = '<div class="error-box">Ingen resultater fundet</div>'
        }
      } catch (error) {
        resultDiv.innerHTML = `<div class="error-box">Fejl: ${error.message}</div>`
      }
    }

    function showVejSkiltData() {
      // Simuler data fra Supabase
      const mockData = [
        {
          id: "sign_004",
          type: "Vejarbejde",
          latitude: 56.1572,
          longitude: 10.2107,
          status: "mounted",
          qr_code: "VS-2025-AAR001",
          application_id: "app_test_003",
          created_at: "2025-11-13T10:00:00Z"
        },
        {
          id: "sign_005",
          type: "Hastighedsbegr√¶nsning 30 km/t",
          latitude: 56.1580,
          longitude: 10.2115,
          status: "mounted",
          qr_code: "VS-2025-AAR002",
          application_id: "app_test_003",
          created_at: "2025-11-13T10:05:00Z"
        }
      ]

      document.getElementById('vejskilt-response').textContent = JSON.stringify(mockData, null, 2)

      document.getElementById('vejskilt-result').innerHTML = `
        <h3>Eksempel VejSkilt Data (fra Supabase):</h3>
        <div class="success-box">
          <strong>Fundet ${mockData.length} skilte i Aarhus</strong>
        </div>
        ${mockData.map(sign => `
          <div style="background: #f9fafb; padding: 16px; border-radius: 8px; margin: 12px 0; border-left: 4px solid #667eea;">
            <strong>${sign.type}</strong><br>
            GPS: ${sign.latitude}, ${sign.longitude}<br>
            QR: ${sign.qr_code}<br>
            Status: ${sign.status}
          </div>
        `).join('')}
        <p style="margin-top: 16px; font-size: 14px; color: #6b7280;">
          Se fuld JSON response ovenfor ‚Üë
        </p>
      `
    }
  </script>
</body>
</html>
